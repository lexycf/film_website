import{g as e}from"./get-intrinsic-176af07e.js";import{b as t}from"./call-bind-e93463e9.js";import{o as n}from"./object-inspect-168ffad1.js";import{t as o}from"./es-errors-c8ed318b.js";var r=e,f=t,i=n,a=o,p=r("%WeakMap%",!0),s=r("%Map%",!0),u=f("WeakMap.prototype.get",!0),c=f("WeakMap.prototype.set",!0),y=f("WeakMap.prototype.has",!0),l=f("Map.prototype.get",!0),x=f("Map.prototype.set",!0),j=f("Map.prototype.has",!0),m=function(e,t){for(var n,o=e;null!==(n=o.next);o=n)if(n.key===t)return o.next=n.next,n.next=e.next,e.next=n,n},v=function(){var e,t,n,o={assert:function(e){if(!o.has(e))throw new a("Side channel does not contain "+i(e))},get:function(o){if(p&&o&&("object"==typeof o||"function"==typeof o)){if(e)return u(e,o)}else if(s){if(t)return l(t,o)}else if(n)return function(e,t){var n=m(e,t);return n&&n.value}(n,o)},has:function(o){if(p&&o&&("object"==typeof o||"function"==typeof o)){if(e)return y(e,o)}else if(s){if(t)return j(t,o)}else if(n)return function(e,t){return!!m(e,t)}(n,o);return!1},set:function(o,r){p&&o&&("object"==typeof o||"function"==typeof o)?(e||(e=new p),c(e,o,r)):s?(t||(t=new s),x(t,o,r)):(n||(n={key:{},next:null}),function(e,t,n){var o=m(e,t);o?o.value=n:e.next={key:t,next:e.next,value:n}}(n,o,r))}};return o};export{v as s};
